## Методы, используемые в экспериментах

В ходе исследования были разработаны методы, выполняющие распознание характеристик рифмы в автоматическом режиме. Данные методы состоят из нейросетевого модуля расстановки ударений, а также алгоритмической части, отвечающей за транскрипцию и непосредственное вычисление определённой характеристики. Методы реализованы с использованием языка программирования Python

Для решения поставленной задачи был собран корпус русской поэзии объёмом 11341 произведений начиная с XVIII века. 

Алгоритмическая часть включает в себя 3 базовых метода и прикладные.
### Базовые методы
#### Расстановка ударений 
Данная задача решается с помощью библиотеки ruaccent для языка программирования Python. Данная библиотека использует словарный метод, а также нейросеть для определения омографов. Доступно 7 различных моделей: *tiny, tiny2, tiny2.1, turbo2, turbo3, turbo3.1, turbo, big_poetry*. В большинстве экспериментов использовалась модель tiny в связи с её скоростью работы. 

#### Транскрипция
Алгоритм транскрипции реализован базово и с некоторыми допущениями, упрощающими поиск созвучий. Так, например, безударная 'o' всегда считается звуком 'a', независимо от того, к предударному или послеударному слогу она относится. При транскрипции проверяется распознание безударных гласных звуков и оглушение звонких согласных с конце слова либо перед глухим согласным.

#### Поиск рифмы

Для поиска рифмы используется "окно", то есть количество подряд идущих строк приложения в которых ищется рифма. Большая часть экспериментов проводилась с размером окна 4, как с наиболее часто встречающимся размером строфы. 
Внутри каждого окна попарно определяется фонетическое завершение строки, начиная с последнего ударного слога. Параллельно ищем точные (полное совпадение траскрипции) и неточные (расстояние Левенштейна между транскрипциями составляет менее половины от более короткой из транскрипций)
```python
def find_rhyme_scheme_for_block(b, check_indexes):
    endings = [extract_line_phonetic_ending(line) for line in b]
    res_perfect = []
    res_non_perfect = []
    for idx_line1, idx_line2 in check_indexes:
        if endings[idx_line1] == endings[idx_line2]:
            res_perfect.append((idx_line1, idx_line2))
        if levenshtein(endings[idx_line1], endings[idx_line2]) * 2 <= min(len(endings[idx_line2]), len(endings[idx_line1])):
            res_non_perfect.append((idx_line1, idx_line2))
    return RhymeScheme(res_perfect, res_non_perfect)
```
### Прикладные методы
Данные методы основываются на результатах работы базовых и обычно получают на вход пару рифмованных строчек.
Реализованы следующие алгоритмы:
1. Определение, является ли рифма мужской или женской
2. Определение, явялется ли рифма открытой или закрытой
3. Определение способа рифмовки (парная, кольцевая, перекрёстная) для четверостиший
4. Определение размера стихотворения (ямб, хорей, анапест, амфибрахий, дактиль) на основе русской силлабо-тонической теории стихосложения.


## Результаты экспериментов

1. Разработанный алгоритм поиска рифмы работает достаточно хорошо (т.е. более 50% строк определены как зарифмованные) в 8452 стихотворениях (74.53% от объёма корпуса). Средний процент зарифмованных строк составляет 77.86%. Определено, что алгоритм хорошо работает в стихотворениях с фиксированным чётным размером строфы (особенно если он составляет 4).

2. При поднятии размера окна с 4 до 10 (то есть при поиске любой рифмы, а не строго четверостиший) более 50% строк определены зарифмованными в 10392 случаях (91.63% от объёма корпуса). Среди оставшихся стихотворений присутствуют:
    * написанные белым стихом
    * написанные лесенкой Маяковского
    * случайно попавшие в корпус прозаические произведения
    * произведения с элементами иностранных языков либо числительными
    * произведения футуристов, т. е. наполненные большим количеством окказионализмов, с которыми не справляется модуль расстановки ударений
    * с очень большим количеством нечётких рифм, которые не сумел выявить текущий модуль для их поиска


3. Прикладные алгоритмы гарантированно выполняют свою функцию при корректном обнаружении рифмы, поэтому показатели качества их работы равны показателям качества обнаружения рифмы. Можно привести статистические показатели:
    1. По расположению ударения:
        * 66291 мужская рифма
        * 55795 женская рифма
        * 5501 смешанная
        * 3573 дактилическая
        * 93 гипердактилическая
    2. По стихотворному размеру:
        * ямб - 5063 произведения
        * хорей - 1562
        * амфибрахий - 674
        * анапест - 618
        * дактиль - 535

## Интерпретация полученных результатов

Так как все прикладные алгоритмы зависят от качества работы алгоритма, отвечающего за обнаружение зарифмованных строк, то имеет смысл сфокусироваться на улучшении его работы: 
 * усовершенствовать транскрипцию, 
 * рассчитывать размер и положение окна для поиска рифмы дианмически с целью обнаружения более сложных паттернов взаимного расположения рифмованных строк
 * заменить при определении нечёткой рифмы расстояние Левенштейна между транскрипциями на более сложный алгоритм, учитывающий звонкость звуков, их удалённость от ударного слога, а также несколько предударных звуков.
 * Для задачи поиска рифм (или для задачи сопоставления двух строк на предмет нечёткой рифмовки может иметь смысл применение методов машинного обучения)

## Краткая сводка новых результатов за этот семестр

В этом семестре были достигнуты следующие результаты:
- Разработан и протестирован алгоритм для автоматической транскрипции текста и обнаружения рифмованных строк в поэтических произведениях
- Разработаны алгоритмы для классификации рифмы по 4 категориям
- Начата работа по усовершенствованию алгоритма поиска нечётких рифм